<mat-card>
  <mat-card-title>
    Cadastrar Mensagem
  </mat-card-title>
  <mat-card-content>
    <form [formGroup]="formulario" (ngSubmit)="submitFormulario()">
      <div class="row-flex">
        <div class="s12 m12 l6 xl6">
          <mat-form-field appearance="outline">
            <mat-label>Nome:</mat-label>
            <input
              matInput
              formControlName="nome"
              placeholder="Insira o nome"
              pattern="[a-zA-Z ]+"
            />
            <mat-error *ngIf="formulario.get('nome')['errors']?.required">
              Nome Obrigatório
            </mat-error>
            <mat-error *ngIf="formulario.get('nome')['errors']?.pattern">
              Insira apenas letras
            </mat-error>
          </mat-form-field>
        </div>

        <div class="s12 m12 l6 xl6">
          <mat-form-field appearance="outline">
            <mat-label>Email:</mat-label>
            <input
              matInput
              formControlName="email"
              placeholder="Insira o email"
            />
            <mat-error *ngIf="formulario.get('email')['errors']?.required">
              Email Obrigatório
            </mat-error>
            <mat-error *ngIf="formulario.get('email')['errors']?.email">
              Insira um email válido
            </mat-error>
          </mat-form-field>
        </div>

        <div class="s12 m12 l6 xl6">
          <mat-form-field appearance="outline">
            <mat-label>Telefone:</mat-label>
            <input
              matInput
              formControlName="telefone"
              mask="(00) 0000-0000"
              placeholder="Insira o telefone"
            />
          </mat-form-field>
        </div>

        <div class="s12 m12 l6 xl6">
          <mat-form-field appearance="outline">
            <mat-label>Assunto:</mat-label>
            <mat-select formControlName="assunto">
              <mat-option
                *ngFor="let assunto of assuntos"
                [value]="assunto.titulo"
              >
                {{ assunto.titulo }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="formulario.get('assunto')['errors']?.required">
              Assunto Obrigatório
            </mat-error>
          </mat-form-field>
        </div>

        <div class="s12 m12 l12 xl12">
          <mat-form-field appearance="outline">
            <mat-label>Mensagem:</mat-label>
            <textarea
              matInput
              formControlName="mensagem"
              placeholder="Insira a Mensagem"
              cdkTextareaAutosize
              cdkAutosizeMinRows="5"
              cdkAutosizeMaxRows="8"
              maxlength="500"
            ></textarea>
            <mat-error *ngIf="formulario.get('mensagem')['errors']?.required">
              Mensagem Obrigatória
            </mat-error>
            <mat-hint align="end"
              >{{ formulario.get('mensagem').value?.length }} / 500
              caracteres</mat-hint
            >
          </mat-form-field>
        </div>
      </div>
      <mat-card-actions align="end">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="formulario.invalid"
        >
          Cadastrar
        </button>
      </mat-card-actions>
    </form>
  </mat-card-content>
</mat-card>
